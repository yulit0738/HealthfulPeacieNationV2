# HealthfulPeacieNationV2
migration
## 프로젝트 요약
2023/02/28 ~ 2023/03/28에 작업한 HealthfulPeacieNation 프로젝트의 최적화를 목적으로 한다.
1. JSP프로젝트를 Spring Boot 프로젝트로 마이그레이션한다.  
2. 기존의 비즈니스로직을 최대한 존중한다.  
3. front-end는 최대한 유지한다.  
### 기존 프로젝트 정보
1. 레거시 기술 사용
- 기존의 프로젝트는 이클립스의 Dynamic Web Project를 기반으로 작성되었다.
- 오래된 기술인 JSP로 모든 페이지가 구현되어있다.
2. 보일러 플레이트 코드
- 모든 데이터베이스 연동 작업은 순수 자바코드로 작성된 jdbc 메소드에 의존한다.
- 모든 getter, setter를 수작업으로 하나씩 만들었다.
3. 불안정한 데이터베이스 연결
- 커넥션 관리를 위한 작업이 전혀 되어있지 않다.
- 대부분의 조회쿼리가 풀스캔 방식에 가까웠다.
- 따라서 조회할 데이터가 조금만 많아져도 Oracle의 TNS Listener가 중단되고 런타임 에러가 발생되었다.
4. 비효율적인 페이징
- 뷰 템플릿을 사용하지 않아 순수 자바코드로 페이지네이션을 처리했다.
- 지나치게 긴 코드가, JSP의 scriptlet의 난해한 가독성과 합쳐져 유지보수가 굉장히 어려웠다.
5. 전체적으로 낮은 기술 지식
- MVC패턴을 모방했으나 이해도가 많이 떨어짐
- 페이지 렌더링 기술 부재. 서블릿조차 사용하지 않았음
- 보안 취약. 정보 조회가 필요한 모든 페이지에 엔티티를 통째로 넘기는 로직 사용
- 객체 관계 매핑(ORM) 기술 부재. 데이터베이스 연결이 모두 수작업으로 진행됨
- 그 밖의 비효율적인 코드들 다수
6. 테스트 부재
- 새로운 기능이 개발될 떄마다 운영에 바로 적용하고 실전 테스트 진행
- 에러 발생 시 모든 협업자에게 피해가 전파됨
---
### 목표
1. 스프링 부트 도입
- 커넥션 자동 관리
- 안정적인 WAS 세팅
- Spring MVC 이용
- gradle에 의한 의존성 자동 관리
2. JPA 도입
- 효율적인 DB매핑
- 보일러플레이트 코드 감소
3. Lombok 도입
- 보일러플레이트 코드 감소
4. Thymeleaf 도입
- 짧고 간결하며 HTML의 코드를 훼손하지 않는 뷰 템플릿
- 난해하고 가독성이 떨어지는 JSP에 대한 대안으로 채택
5. TDD 도입
- 테스트 주도 개발!
- 별도의 테스트 영역에서 테스트하고 운영으로 넘길 수 있음
6. 인텔리제이 사용
- 쉽고 빠르고 친절하고 쿨하다.
---
### Spring Boot Settings
1. Project : Gradle - Groovy  
2. Language : Java  
3. Spring Boot : 2.7.11  
4. Packaging : Jar  
5. Java : 11  
6. Dependencies :  
- Spring Web
- Spring Data JPA
- H2 Database
- Spring Boot DevTools
- Lombok
- Thymeleaf
